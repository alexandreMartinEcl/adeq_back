webpackJsonp([3],{100:function(n,l,e){"use strict";e.d(l,"a",function(){return a});e(3);var t=e(122),o=(e.n(t),e(25),e(45),e(81)),u=(e.n(o),e(127)),a=function(){function n(n,l,e,t,o,u){this.navCtrl=n,this.navParams=l,this.storage=e,this.http=t,this.socket=o,this.globVars=u,this.main_url=this.globVars.MAIN_URL,this.auth_url=this.main_url+"/auth",this.check_storage()}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ConnectionPage")},n.prototype.req_auth=function(n){return this.http.post(this.auth_url,n).map(function(n){return n.json()})},n.prototype.launch_connect=function(){var n=this;console.log("LC: Try connection");var l=this.make_logins();console.log(JSON.stringify(l)),this.email.length>0&&this.password.length>0&&this.req_auth(l).subscribe(function(l){console.log("Async-LC: Result from connection"),console.log(l),l.code?alert(l.data.message):(console.log("Async-LC: Connection accepted: updating storage"),n.globVars.init_glob(l),n.globVars.set_user_info(l),n.storage.set("logins",JSON.stringify(n.make_logins())),n.navCtrl.push(u.a))})},n.prototype.check_storage=function(){var n=this;console.log("CS: Checking storage"),this.storage.get("logins").then(function(l){console.log("Async-CS: Here is logins"),console.log(l),null!=l?(console.log("Async-CS: Updating page.data"),l=JSON.parse(l),n.email=l.email||"",n.password=l.password||"",n.autoconnect=l.autoconnect||!1,l.autoconnect&&n.launch_connect()):(console.log("Async-CS: Initialising page.data to ''"),n.email="",n.password="",n.autoconnect=!1)})},n.prototype.make_logins=function(){return JSON.parse(JSON.stringify({email:this.email,password:this.password,autoconnect:this.autoconnect}))},n}()},101:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25),e(45);var t=function(){function n(n,l,e,t){this.navCtrl=n,this.navParams=l,this.storage=e,this.qProv=t,console.log("I: On commence l'init quest"),t.init_quest_screen(this)}return n.prototype.ionViewDidLoad=function(){},n.prototype.make_choice=function(n){console.log("Choix réalisé"),this.update_storage_resp(this.id_quest,n),console.log("On enlève la première quest de la liste"),this.quests.splice(0,1),console.log(this.quests),this.update_curr_quest(),this.qProv.update_quests(this)},n.prototype.update_storage_resp=function(n,l){console.log("US: On update le storage avec la nouvelle reponse"),console.log(l),console.log("US: On commence par get resp"),this.storage.get("resps").then(this.qProv.constr_update_storage(n,l))},n.prototype.update_curr_quest=function(){console.log("UC: Update_curr_quests");var n=this.quests[0];this.id_quest=n._id,this.title=n.title,this.choices=n.choices},n}()},127:function(n,l,e){"use strict";e.d(l,"a",function(){return i});e(3),e(25),e(45);var t=e(81),o=(e.n(t),e(128)),u=e(101),a=e(69),i=function(){function n(n,l,e){this.navCtrl=n,this.storage=l,this.socket=e,this.tab1Root=o.a,this.tab2Root=u.a,this.tab3Root=a.a,this.home_icon="ios-home-outline",this.quest_icon="ios-pizza-outline",this.disc_icon="ios-chatboxes-outline"}return n.prototype.log_out=function(){var n=this;this.storage.get("logins").then(function(l){null!=l&&(console.log("LO: restore autoconnect to false"),(l=JSON.parse(l)).autoconnect=!1,n.storage.set("logins",JSON.stringify(l))),console.log("LO: Back to connectionPage"),n.navCtrl.pop()}),this.socket.removeAllListeners(),this.socket.disconnect()},n.prototype.change_icon=function(n){switch(n){case"home":this.home_icon=this.sel_icon(this.home_icon),this.quest_icon=this.unsel_icon(this.quest_icon),this.disc_icon=this.unsel_icon(this.disc_icon);break;case"quest":this.home_icon=this.unsel_icon(this.home_icon),this.quest_icon=this.sel_icon(this.quest_icon),this.disc_icon=this.unsel_icon(this.disc_icon);break;case"disc":this.home_icon=this.unsel_icon(this.home_icon),this.quest_icon=this.unsel_icon(this.quest_icon),this.disc_icon=this.sel_icon(this.disc_icon)}},n.prototype.sel_icon=function(n){return-1!==n.indexOf("-outline")?n.substr(0,n.length-8):n},n.prototype.unsel_icon=function(n){return-1===n.indexOf("-outline")?n+"-outline":n},n}()},128:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25);var t=function(){function n(n,l,e){this.navCtrl=n,this.globVars=l,this.hProv=e,this.surname=this.globVars.lastName,this.first_name=this.globVars.firstName,this.email=this.globVars.email,this.other_first_name="Clitorine"}return n.prototype.traits=function(){return["Audace","Exigence","Respect"]},n.prototype.other_traits=function(){return["Sport","Timidité","Fan de José Garcia"]},n.prototype.show_modify=function(){var n=this;this.hProv.create_modify_alert(this).present().then(function(){n.boo_modify_open=!0})},n.prototype.show_modify_mdp=function(){var n=this;this.hProv.create_modify_mdp_alert(this).present().then(function(){n.boo_modify_open=!0})},n.prototype.show_evaluate=function(){var n=this;this.hProv.create_eval_alert(this).present().then(function(){n.boo_eval_open=!0})},n}()},151:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25);var t=function(){return function(){}}()},152:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25);var t=function(){return function(){}}()},153:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25);var t=function(){return function(){}}()},164:function(n,l){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=164},193:function(n,l,e){var t={"../pages/connection/connection.module.ngfactory":[305,2],"../pages/discussion/discussion.module.ngfactory":[306,1],"../pages/questions/questions.module.ngfactory":[307,0]};function o(n){var l=t[n];return l?e.e(l[1]).then(function(){return e(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}o.keys=function(){return Object.keys(t)},o.id=193,n.exports=o},240:function(n,l,e){"use strict";e.d(l,"a",function(){return U});var t=e(0),o=e(53),u=e(1),a=e(5),i=e(92),s=e(26),d=e(6),r=e(17),c=e(93),p=e(46),m=e(33),g=e(94),f=e(21),h=e(4),_=e(7),b=e(23),v=e(15),y=e(129),R=e(18),C=e(14),k=e(43),q=e(63),E=e(50),S=e(207),w=e(62),P=e(296),I=e(74),N=e(24),O=e(13),M=e(100),V=e(10),A=e(66),T=e(44),L=e(67),D=e(27),j=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function x(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵeld"](1,0,null,null,10,"ion-header",[],null,null,null,null,null)),t["ɵdid"](2,16384,null,0,o.a,[u.a,t.ElementRef,t.Renderer,[2,a.a]],null,null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵeld"](4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,i.b,i.a)),t["ɵdid"](5,49152,null,0,s.a,[d.a,[2,a.a],[2,r.a],u.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,3,["\n    "])),(n()(),t["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,c.b,c.a)),t["ɵdid"](8,49152,null,0,p.a,[u.a,t.ElementRef,t.Renderer,[2,m.a],[2,s.a]],null,null),(n()(),t["ɵted"](-1,0,["Connection"])),(n()(),t["ɵted"](-1,3,["\n  "])),(n()(),t["ɵted"](-1,null,["\n\n"])),(n()(),t["ɵted"](-1,null,["\n\n\n"])),(n()(),t["ɵeld"](13,0,null,null,68,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,g.b,g.a)),t["ɵdid"](14,4374528,null,0,f.a,[u.a,h.a,_.a,t.ElementRef,t.Renderer,d.a,b.a,t.NgZone,[2,a.a],[2,r.a]],null,null),(n()(),t["ɵted"](-1,1,["\n    "])),(n()(),t["ɵeld"](16,0,null,1,64,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;if("submit"===l){o=!1!==t["ɵnov"](n,18).onSubmit(e)&&o}if("reset"===l){o=!1!==t["ɵnov"](n,18).onReset()&&o}if("ngSubmit"===l){o=!1!==u.launch_connect()&&o}return o},null,null)),t["ɵdid"](17,16384,null,0,v.n,[],null,null),t["ɵdid"](18,4210688,null,0,v.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["ɵprd"](2048,null,v.b,null,[v.j]),t["ɵdid"](20,16384,null,0,v.i,[v.b],null,null),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](22,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,y.b,y.a)),t["ɵdid"](23,1097728,null,3,R.a,[C.a,u.a,t.ElementRef,t.Renderer,[2,k.a]],null,null),t["ɵqud"](335544320,1,{contentLabel:0}),t["ɵqud"](603979776,2,{_buttons:1}),t["ɵqud"](603979776,3,{_icons:1}),t["ɵdid"](27,16384,null,0,q.a,[],null,null),(n()(),t["ɵted"](-1,2,["\n            "])),(n()(),t["ɵeld"](29,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),t["ɵdid"](30,16384,[[1,4]],0,E.a,[u.a,t.ElementRef,t.Renderer,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),t["ɵted"](-1,null,["Email"])),(n()(),t["ɵted"](-1,2,["\n            "])),(n()(),t["ɵeld"](33,0,null,3,4,"ion-input",[["name","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.email=e)&&t}return t},S.b,S.a)),t["ɵdid"](34,671744,null,0,v.k,[[2,v.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,v.g,null,[v.k]),t["ɵdid"](36,16384,null,0,v.h,[v.g],null,null),t["ɵdid"](37,5423104,null,0,w.a,[u.a,h.a,C.a,d.a,t.ElementRef,t.Renderer,[2,f.a],[2,R.a],[2,v.g],_.a],{type:[0,"type"]},null),(n()(),t["ɵted"](-1,2,["\n        "])),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](40,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,y.b,y.a)),t["ɵdid"](41,1097728,null,3,R.a,[C.a,u.a,t.ElementRef,t.Renderer,[2,k.a]],null,null),t["ɵqud"](335544320,4,{contentLabel:0}),t["ɵqud"](603979776,5,{_buttons:1}),t["ɵqud"](603979776,6,{_icons:1}),t["ɵdid"](45,16384,null,0,q.a,[],null,null),(n()(),t["ɵted"](-1,2,["\n            "])),(n()(),t["ɵeld"](47,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),t["ɵdid"](48,16384,[[4,4]],0,E.a,[u.a,t.ElementRef,t.Renderer,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),t["ɵted"](-1,null,["Password"])),(n()(),t["ɵted"](-1,2,["\n            "])),(n()(),t["ɵeld"](51,0,null,3,4,"ion-input",[["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.password=e)&&t}return t},S.b,S.a)),t["ɵdid"](52,671744,null,0,v.k,[[2,v.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,v.g,null,[v.k]),t["ɵdid"](54,16384,null,0,v.h,[v.g],null,null),t["ɵdid"](55,5423104,null,0,w.a,[u.a,h.a,C.a,d.a,t.ElementRef,t.Renderer,[2,f.a],[2,R.a],[2,v.g],_.a],{type:[0,"type"]},null),(n()(),t["ɵted"](-1,2,["\n        "])),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](58,0,null,null,17,"ion-item",[["class","item item-block"]],null,null,null,y.b,y.a)),t["ɵdid"](59,1097728,null,3,R.a,[C.a,u.a,t.ElementRef,t.Renderer,[2,k.a]],null,null),t["ɵqud"](335544320,7,{contentLabel:0}),t["ɵqud"](603979776,8,{_buttons:1}),t["ɵqud"](603979776,9,{_icons:1}),t["ɵdid"](63,16384,null,0,q.a,[],null,null),(n()(),t["ɵted"](-1,2,["\n          "])),(n()(),t["ɵeld"](65,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](66,16384,[[7,4]],0,E.a,[u.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),t["ɵted"](-1,null,["Connexion automatique ?"])),(n()(),t["ɵted"](-1,2,["\n          "])),(n()(),t["ɵeld"](69,0,null,0,5,"ion-checkbox",[["checked","autoconnect"],["color","dark"],["name","check_autoconnect"]],[[2,"checkbox-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,l,e){var o=!0,u=n.component;if("click"===l){o=!1!==t["ɵnov"](n,70)._click(e)&&o}if("ngModelChange"===l){o=!1!==(u.autoconnect=e)&&o}return o},P.b,P.a)),t["ɵdid"](70,1228800,null,0,I.a,[u.a,C.a,[2,R.a],t.ElementRef,t.Renderer],{color:[0,"color"],checked:[1,"checked"]},null),t["ɵprd"](1024,null,v.f,function(n){return[n]},[I.a]),t["ɵdid"](72,671744,null,0,v.k,[[2,v.b],[8,null],[8,null],[2,v.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,v.g,null,[v.k]),t["ɵdid"](74,16384,null,0,v.h,[v.g],null,null),(n()(),t["ɵted"](-1,2,["\n        "])),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](77,0,null,null,2,"button",[["ion-button",""],["type","submit"]],null,null,null,N.b,N.a)),t["ɵdid"](78,1097728,null,0,O.a,[[8,""],u.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["Send"])),(n()(),t["ɵted"](-1,null,["\n\n    "])),(n()(),t["ɵted"](-1,1,["        \n"])),(n()(),t["ɵted"](-1,null,["\n\n"])),(n()(),t["ɵeld"](83,0,null,null,2,"ion-title",[],null,null,null,c.b,c.a)),t["ɵdid"](84,49152,null,0,p.a,[u.a,t.ElementRef,t.Renderer,[2,m.a],[2,s.a]],null,null),(n()(),t["ɵted"](-1,0,["Sign up"])),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,34,0,"email",e.email);n(l,37,0,"text");n(l,52,0,"password",e.password);n(l,55,0,"password");n(l,70,0,"dark","autoconnect");n(l,72,0,"check_autoconnect",e.autoconnect)},function(n,l){n(l,4,0,t["ɵnov"](l,5)._hidden,t["ɵnov"](l,5)._sbPadding);n(l,13,0,t["ɵnov"](l,14).statusbarPadding,t["ɵnov"](l,14)._hasRefresher);n(l,16,0,t["ɵnov"](l,20).ngClassUntouched,t["ɵnov"](l,20).ngClassTouched,t["ɵnov"](l,20).ngClassPristine,t["ɵnov"](l,20).ngClassDirty,t["ɵnov"](l,20).ngClassValid,t["ɵnov"](l,20).ngClassInvalid,t["ɵnov"](l,20).ngClassPending);n(l,33,0,t["ɵnov"](l,36).ngClassUntouched,t["ɵnov"](l,36).ngClassTouched,t["ɵnov"](l,36).ngClassPristine,t["ɵnov"](l,36).ngClassDirty,t["ɵnov"](l,36).ngClassValid,t["ɵnov"](l,36).ngClassInvalid,t["ɵnov"](l,36).ngClassPending);n(l,51,0,t["ɵnov"](l,54).ngClassUntouched,t["ɵnov"](l,54).ngClassTouched,t["ɵnov"](l,54).ngClassPristine,t["ɵnov"](l,54).ngClassDirty,t["ɵnov"](l,54).ngClassValid,t["ɵnov"](l,54).ngClassInvalid,t["ɵnov"](l,54).ngClassPending);n(l,69,0,t["ɵnov"](l,70)._disabled,t["ɵnov"](l,74).ngClassUntouched,t["ɵnov"](l,74).ngClassTouched,t["ɵnov"](l,74).ngClassPristine,t["ɵnov"](l,74).ngClassDirty,t["ɵnov"](l,74).ngClassValid,t["ɵnov"](l,74).ngClassInvalid,t["ɵnov"](l,74).ngClassPending)})}var U=t["ɵccf"]("page-connection",M.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-connection",[],null,null,null,x,j)),t["ɵdid"](1,49152,null,0,M.a,[r.a,V.a,A.a,T.d,L.WrappedSocket,D.a],null,null)],null,null)},{},{},[])},241:function(n,l,e){"use strict";e.d(l,"a",function(){return j});var t=e(0),o=e(93),u=e(46),a=e(1),i=e(33),s=e(26),d=e(60),r=e(116),c=e(11),p=e(53),m=e(5),g=e(92),f=e(6),h=e(17),_=e(94),b=e(21),v=e(4),y=e(7),R=e(23),C=e(15),k=e(207),q=e(62),E=e(14),S=e(18),w=e(24),P=e(13),I=e(69),N=e(10),O=e(86),M=e(27),V=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function A(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"ion-title",[],null,null,null,o.b,o.a)),t["ɵdid"](1,49152,null,0,u.a,[a.a,t.ElementRef,t.Renderer,[2,i.a],[2,s.a]],null,null),(n()(),t["ɵted"](2,0,["Discussion with ",""]))],null,function(n,l){n(l,2,0,l.component.name)})}function T(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,5,"ion-card",[["id","disc_message"]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,d.a,[a.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](3,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),t["ɵted"](4,null,["",""])),(n()(),t["ɵted"](-1,null,["\n  "]))],null,function(n,l){n(l,3,0,t["ɵinlineInterpolate"](1,"",l.component.get_type(l.context.$implicit.type),""));n(l,4,0,l.context.$implicit.content)})}function L(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,5,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,r.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵand"](16777216,null,null,1,null,T)),t["ɵdid"](4,802816,null,0,c.h,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){n(l,4,0,l.component.messages)},null)}function D(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵeld"](1,0,null,null,9,"ion-header",[],null,null,null,null,null)),t["ɵdid"](2,16384,null,0,p.a,[a.a,t.ElementRef,t.Renderer,[2,m.a]],null,null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵeld"](4,0,null,null,5,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,g.b,g.a)),t["ɵdid"](5,49152,null,0,s.a,[f.a,[2,m.a],[2,h.a],a.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,3,["\n    "])),(n()(),t["ɵand"](16777216,null,3,1,null,A)),t["ɵdid"](8,16384,null,0,c.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,3,["\n  "])),(n()(),t["ɵted"](-1,null,["\n\n"])),(n()(),t["ɵted"](-1,null,["\n\n\n"])),(n()(),t["ɵeld"](12,0,null,null,22,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,_.b,_.a)),t["ɵdid"](13,4374528,null,0,b.a,[a.a,v.a,y.a,t.ElementRef,t.Renderer,f.a,R.a,t.NgZone,[2,m.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵand"](16777216,null,1,1,null,L)),t["ɵdid"](16,16384,null,0,c.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵeld"](18,0,null,1,15,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;if("submit"===l){o=!1!==t["ɵnov"](n,20).onSubmit(e)&&o}if("reset"===l){o=!1!==t["ɵnov"](n,20).onReset()&&o}if("ngSubmit"===l){o=!1!==u.send_message()&&o}return o},null,null)),t["ɵdid"](19,16384,null,0,C.n,[],null,null),t["ɵdid"](20,4210688,null,0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["ɵprd"](2048,null,C.b,null,[C.j]),t["ɵdid"](22,16384,null,0,C.i,[C.b],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](24,0,null,null,4,"ion-input",[["name","message_text"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.curr_message=e)&&t}return t},k.b,k.a)),t["ɵdid"](25,671744,null,0,C.k,[[2,C.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,C.g,null,[C.k]),t["ɵdid"](27,16384,null,0,C.h,[C.g],null,null),t["ɵdid"](28,5423104,null,0,q.a,[a.a,v.a,E.a,f.a,t.ElementRef,t.Renderer,[2,b.a],[2,S.a],[2,C.g],y.a],{type:[0,"type"]},null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](30,0,null,null,2,"button",[["ion-button",""],["type","submit"]],null,null,null,w.b,w.a)),t["ɵdid"](31,1097728,null,0,P.a,[[8,""],a.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["Send"])),(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,8,0,e.name);n(l,16,0,e.messages);n(l,25,0,"message_text",e.curr_message);n(l,28,0,"text")},function(n,l){n(l,4,0,t["ɵnov"](l,5)._hidden,t["ɵnov"](l,5)._sbPadding);n(l,12,0,t["ɵnov"](l,13).statusbarPadding,t["ɵnov"](l,13)._hasRefresher);n(l,18,0,t["ɵnov"](l,22).ngClassUntouched,t["ɵnov"](l,22).ngClassTouched,t["ɵnov"](l,22).ngClassPristine,t["ɵnov"](l,22).ngClassDirty,t["ɵnov"](l,22).ngClassValid,t["ɵnov"](l,22).ngClassInvalid,t["ɵnov"](l,22).ngClassPending);n(l,24,0,t["ɵnov"](l,27).ngClassUntouched,t["ɵnov"](l,27).ngClassTouched,t["ɵnov"](l,27).ngClassPristine,t["ɵnov"](l,27).ngClassDirty,t["ɵnov"](l,27).ngClassValid,t["ɵnov"](l,27).ngClassInvalid,t["ɵnov"](l,27).ngClassPending)})}var j=t["ɵccf"]("page-discussion",I.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-discussion",[],null,null,null,D,V)),t["ɵdid"](1,49152,null,0,I.a,[h.a,N.a,O.a,M.a],null,null)],null,null)},{},{},[])},242:function(n,l,e){"use strict";e.d(l,"a",function(){return O});var t=e(0),o=e(60),u=e(1),a=e(24),i=e(13),s=e(53),d=e(5),r=e(92),c=e(26),p=e(6),m=e(17),g=e(93),f=e(46),h=e(33),_=e(94),b=e(21),v=e(4),y=e(7),R=e(23),C=e(11),k=e(101),q=e(10),E=e(66),S=e(85),w=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function P(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"ion-card",[],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,o.a,[u.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](2,null,["\n    ","\n  "]))],null,function(n,l){n(l,2,0,l.component.title)})}function I(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](2,0,null,null,2,"button",[["block",""],["ion-button",""],["round",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.make_choice(n.context.$implicit)&&t}return t},a.b,a.a)),t["ɵdid"](3,1097728,null,0,i.a,[[8,""],u.a,t.ElementRef,t.Renderer],{round:[0,"round"],block:[1,"block"]},null),(n()(),t["ɵted"](4,0,["",""])),(n()(),t["ɵted"](-1,null,["        \n  "]))],function(n,l){n(l,3,0,"","")},function(n,l){n(l,4,0,l.context.$implicit)})}function N(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵeld"](1,0,null,null,10,"ion-header",[],null,null,null,null,null)),t["ɵdid"](2,16384,null,0,s.a,[u.a,t.ElementRef,t.Renderer,[2,d.a]],null,null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵeld"](4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,r.b,r.a)),t["ɵdid"](5,49152,null,0,c.a,[p.a,[2,d.a],[2,m.a],u.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,3,["\n    "])),(n()(),t["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,g.b,g.a)),t["ɵdid"](8,49152,null,0,f.a,[u.a,t.ElementRef,t.Renderer,[2,h.a],[2,c.a]],null,null),(n()(),t["ɵted"](-1,0,["Profile quizz"])),(n()(),t["ɵted"](-1,3,["\n  "])),(n()(),t["ɵted"](-1,null,["\n\n"])),(n()(),t["ɵted"](-1,null,["\n\n\n"])),(n()(),t["ɵeld"](13,0,null,null,12,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,_.b,_.a)),t["ɵdid"](14,4374528,null,0,b.a,[u.a,v.a,y.a,t.ElementRef,t.Renderer,p.a,R.a,t.NgZone,[2,d.a],[2,m.a]],null,null),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵeld"](16,0,null,1,8,"ion-card",[],null,null,null,null,null)),t["ɵdid"](17,16384,null,0,o.a,[u.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵand"](16777216,null,null,1,null,P)),t["ɵdid"](20,16384,null,0,C.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵand"](16777216,null,null,1,null,I)),t["ɵdid"](23,802816,null,0,C.h,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,20,0,e.title);n(l,23,0,e.choices)},function(n,l){n(l,4,0,t["ɵnov"](l,5)._hidden,t["ɵnov"](l,5)._sbPadding);n(l,13,0,t["ɵnov"](l,14).statusbarPadding,t["ɵnov"](l,14)._hasRefresher)})}var O=t["ɵccf"]("page-questions",k.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-questions",[],null,null,null,N,w)),t["ɵdid"](1,49152,null,0,k.a,[m.a,q.a,E.a,S.a],null,null)],null,null)},{},{},[])},243:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e(34),o=e(0),u=(e(3),e(25),e(98)),a=e(99),i=e(100),s=function(){return function(n,l,e){var t=this;this.rootPage=i.a,n.ready().then(function(){t.rootPage=i.a,l.styleDefault(),e.hide()})}}(),d=e(44),r=e(45),c=(e(81),e(230)),p=e(128),m=e(153),g=e(152),f=e(127),h=e(151),_=e(85),b=e(86),v=e(27),y=e(84),R=function(){return function(){}}(),C=e(57),k=e(231),q=e(232),E=e(233),S=e(234),w=e(235),P=e(236),I=e(237),N=e(238),O=e(239),M=e(240),V=e(242),A=e(241),T=e(302),L=e(31),D=e(65),j=e(5),x=e(17),U=e(6),F=e(1),H=e(4),J=e(8),Z=e(28),Q=e(16),K=e(7),z=o["ɵcrt"]({encapsulation:2,styles:[],data:{}});function $(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,2,"ion-nav",[],null,null,null,T.b,T.a)),o["ɵprd"](6144,null,L.a,null,[D.a]),o["ɵdid"](2,4374528,null,0,D.a,[[2,j.a],[2,x.a],U.a,F.a,H.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,J.l,Z.a,[2,Q.a],K.a,o.ErrorHandler],{root:[0,"root"]},null),(n()(),o["ɵted"](-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}var W=o["ɵccf"]("ng-component",s,function(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,$,z)),o["ɵdid"](1,49152,null,0,s,[H.a,u.a,a.a],null,null)],null,null)},{},{},[]),G=e(129),B=e(18),X=e(14),Y=e(43),nn=e(63),ln=e(53),en=e(92),tn=e(26),on=e(93),un=e(46),an=e(33),sn=e(94),dn=e(21),rn=e(23),cn=e(60),pn=e(114),mn=e(64),gn=e(39),fn=e(24),hn=e(13),_n=e(11),bn=o["ɵcrt"]({encapsulation:2,styles:[],data:{}});function vn(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,6,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](1,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,10,{contentLabel:0}),o["ɵqud"](603979776,11,{_buttons:1}),o["ɵqud"](603979776,12,{_icons:1}),o["ɵdid"](5,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](6,2,["\n                - ","\n              "]))],null,function(n,l){n(l,6,0,l.context.$implicit)})}function yn(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,6,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](1,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,19,{contentLabel:0}),o["ɵqud"](603979776,20,{_buttons:1}),o["ɵqud"](603979776,21,{_icons:1}),o["ɵdid"](5,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](6,2,["\n              - ","\n            "]))],null,function(n,l){n(l,6,0,l.context.$implicit)})}function Rn(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,10,"ion-header",[],null,null,null,null,null)),o["ɵdid"](1,16384,null,0,ln.a,[F.a,o.ElementRef,o.Renderer,[2,j.a]],null,null),(n()(),o["ɵted"](-1,null,["\n  "])),(n()(),o["ɵeld"](3,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,en.b,en.a)),o["ɵdid"](4,49152,null,0,tn.a,[U.a,[2,j.a],[2,x.a],F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,3,["\n    "])),(n()(),o["ɵeld"](6,0,null,3,2,"ion-title",[],null,null,null,on.b,on.a)),o["ɵdid"](7,49152,null,0,un.a,[F.a,o.ElementRef,o.Renderer,[2,an.a],[2,tn.a]],null,null),(n()(),o["ɵted"](-1,0,["Home"])),(n()(),o["ɵted"](-1,3,["\n  "])),(n()(),o["ɵted"](-1,null,["\n"])),(n()(),o["ɵted"](-1,null,["\n\n"])),(n()(),o["ɵeld"](12,0,null,null,107,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,sn.b,sn.a)),o["ɵdid"](13,4374528,null,0,dn.a,[F.a,H.a,K.a,o.ElementRef,o.Renderer,U.a,rn.a,o.NgZone,[2,j.a],[2,x.a]],null,null),(n()(),o["ɵted"](-1,1,["\n  "])),(n()(),o["ɵeld"](15,0,null,1,58,"ion-card",[],null,null,null,null,null)),o["ɵdid"](16,16384,null,0,cn.a,[F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,null,["\n      "])),(n()(),o["ɵeld"](18,0,null,null,2,"ion-card-header",[],null,null,null,null,null)),o["ɵdid"](19,16384,null,0,pn.a,[F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,null,["\n        Ton profil\n      "])),(n()(),o["ɵted"](-1,null,["\n      \n      "])),(n()(),o["ɵeld"](22,0,null,null,50,"ion-list",[],null,null,null,null,null)),o["ɵdid"](23,16384,null,0,mn.a,[F.a,o.ElementRef,o.Renderer,H.a,J.l,K.a],null,null),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](25,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](26,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,1,{contentLabel:0}),o["ɵqud"](603979776,2,{_buttons:1}),o["ɵqud"](603979776,3,{_icons:1}),o["ɵdid"](30,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](-1,2,["\n              "])),(n()(),o["ɵeld"](32,0,null,2,1,"ion-icon",[["name","person"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](33,147456,[[3,4]],0,gn.a,[F.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](34,2,["\n              "," ","\n          "])),(n()(),o["ɵted"](-1,null,["\n\n          "])),(n()(),o["ɵeld"](36,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](37,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,4,{contentLabel:0}),o["ɵqud"](603979776,5,{_buttons:1}),o["ɵqud"](603979776,6,{_icons:1}),o["ɵdid"](41,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](-1,2,["\n              "])),(n()(),o["ɵeld"](43,0,null,2,1,"ion-icon",[["name","at"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](44,147456,[[6,4]],0,gn.a,[F.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](45,2,["\n              ","\n          "])),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](47,0,null,null,2,"button",[["color","secondary"],["ion-button",""],["outline",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.show_modify()&&t}return t},fn.b,fn.a)),o["ɵdid"](48,1097728,null,0,hn.a,[[8,""],F.a,o.ElementRef,o.Renderer],{color:[0,"color"],outline:[1,"outline"]},null),(n()(),o["ɵted"](-1,0,["Modifier compte"])),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](51,0,null,null,2,"button",[["color","secondary"],["ion-button",""],["outline",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.show_modify_mdp()&&t}return t},fn.b,fn.a)),o["ɵdid"](52,1097728,null,0,hn.a,[[8,""],F.a,o.ElementRef,o.Renderer],{color:[0,"color"],outline:[1,"outline"]},null),(n()(),o["ɵted"](-1,0,["Modifier mot de passe"])),(n()(),o["ɵted"](-1,null,["\n      \n          "])),(n()(),o["ɵeld"](55,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](56,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,7,{contentLabel:0}),o["ɵqud"](603979776,8,{_buttons:1}),o["ɵqud"](603979776,9,{_icons:1}),o["ɵdid"](60,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](-1,2,["\n              "])),(n()(),o["ɵeld"](62,0,null,2,1,"ion-icon",[["name","podium"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](63,147456,[[9,4]],0,gn.a,[F.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,2,["\n              Tes traits forts\n              "])),(n()(),o["ɵeld"](65,0,null,2,5,"ion-list",[],null,null,null,null,null)),o["ɵdid"](66,16384,null,0,mn.a,[F.a,o.ElementRef,o.Renderer,H.a,J.l,K.a],null,null),(n()(),o["ɵted"](-1,null,["\n                  "])),(n()(),o["ɵand"](16777216,null,null,1,null,vn)),o["ɵdid"](69,802816,null,0,_n.h,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),o["ɵted"](-1,null,["\n            "])),(n()(),o["ɵted"](-1,2,["\n          "])),(n()(),o["ɵted"](-1,null,["\n\n      "])),(n()(),o["ɵted"](-1,null,["\n  "])),(n()(),o["ɵted"](-1,1,["\n  "])),(n()(),o["ɵeld"](75,0,null,1,43,"ion-card",[],null,null,null,null,null)),o["ɵdid"](76,16384,null,0,cn.a,[F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵeld"](78,0,null,null,2,"ion-card-header",[],null,null,null,null,null)),o["ɵdid"](79,16384,null,0,pn.a,[F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,null,["\n      Son profil\n    "])),(n()(),o["ɵted"](-1,null,["\n    \n    "])),(n()(),o["ɵeld"](82,0,null,null,31,"ion-list",[],null,null,null,null,null)),o["ɵdid"](83,16384,null,0,mn.a,[F.a,o.ElementRef,o.Renderer,H.a,J.l,K.a],null,null),(n()(),o["ɵted"](-1,null,["\n        "])),(n()(),o["ɵeld"](85,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](86,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,13,{contentLabel:0}),o["ɵqud"](603979776,14,{_buttons:1}),o["ɵqud"](603979776,15,{_icons:1}),o["ɵdid"](90,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](-1,2,["\n            "])),(n()(),o["ɵeld"](92,0,null,2,1,"ion-icon",[["name","person"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](93,147456,[[15,4]],0,gn.a,[F.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](94,2,["\n            ","\n        "])),(n()(),o["ɵted"](-1,null,["\n\n        "])),(n()(),o["ɵeld"](96,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,G.b,G.a)),o["ɵdid"](97,1097728,null,3,B.a,[X.a,F.a,o.ElementRef,o.Renderer,[2,Y.a]],null,null),o["ɵqud"](335544320,16,{contentLabel:0}),o["ɵqud"](603979776,17,{_buttons:1}),o["ɵqud"](603979776,18,{_icons:1}),o["ɵdid"](101,16384,null,0,nn.a,[],null,null),(n()(),o["ɵted"](-1,2,["\n            "])),(n()(),o["ɵeld"](103,0,null,2,1,"ion-icon",[["name","podium"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](104,147456,[[18,4]],0,gn.a,[F.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,2,["\n            Ses traits forts\n            "])),(n()(),o["ɵeld"](106,0,null,2,5,"ion-list",[],null,null,null,null,null)),o["ɵdid"](107,16384,null,0,mn.a,[F.a,o.ElementRef,o.Renderer,H.a,J.l,K.a],null,null),(n()(),o["ɵted"](-1,null,["\n                "])),(n()(),o["ɵand"](16777216,null,null,1,null,yn)),o["ɵdid"](110,802816,null,0,_n.h,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵted"](-1,2,["\n        "])),(n()(),o["ɵted"](-1,null,["\n  "])),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵeld"](115,0,null,null,2,"button",[["color","secondary"],["ion-button",""],["outline",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.show_evaluate()&&t}return t},fn.b,fn.a)),o["ɵdid"](116,1097728,null,0,hn.a,[[8,""],F.a,o.ElementRef,o.Renderer],{color:[0,"color"],outline:[1,"outline"]},null),(n()(),o["ɵted"](-1,0,["Evaluer la relation"])),(n()(),o["ɵted"](-1,null,["\n  "])),(n()(),o["ɵted"](-1,1,["\n"])),(n()(),o["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,33,0,"person");n(l,44,0,"at");n(l,48,0,"secondary","");n(l,52,0,"secondary","");n(l,63,0,"podium");n(l,69,0,e.traits());n(l,93,0,"person");n(l,104,0,"podium");n(l,110,0,e.other_traits());n(l,116,0,"secondary","")},function(n,l){var e=l.component;n(l,3,0,o["ɵnov"](l,4)._hidden,o["ɵnov"](l,4)._sbPadding);n(l,12,0,o["ɵnov"](l,13).statusbarPadding,o["ɵnov"](l,13)._hasRefresher);n(l,32,0,o["ɵnov"](l,33)._hidden);n(l,34,0,e.surname,e.first_name);n(l,43,0,o["ɵnov"](l,44)._hidden);n(l,45,0,e.email);n(l,62,0,o["ɵnov"](l,63)._hidden);n(l,92,0,o["ɵnov"](l,93)._hidden);n(l,94,0,e.other_first_name);n(l,103,0,o["ɵnov"](l,104)._hidden)})}var Cn=o["ɵccf"]("page-home",p.a,function(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,1,"page-home",[],null,null,null,Rn,bn)),o["ɵdid"](1,49152,null,0,p.a,[x.a,v.a,y.a],null,null)],null,null)},{},{},[]),kn=e(303),qn=e(54),En=e(304),Sn=e(95),wn=e(15),Pn=e(66),In=e(67),Nn=o["ɵcrt"]({encapsulation:2,styles:[],data:{}});function On(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,12,"ion-tabs",[["selectedIndex","1"]],null,null,null,kn.b,kn.a)),o["ɵprd"](6144,null,L.a,null,[qn.a]),o["ɵdid"](2,4374528,null,0,qn.a,[[2,x.a],[2,j.a],U.a,F.a,o.ElementRef,H.a,o.Renderer,Q.a,rn.a],{selectedIndex:[0,"selectedIndex"]},null),(n()(),o["ɵted"](-1,0,["\n  "])),(n()(),o["ɵeld"](4,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabTitle","Home"]],[[1,"id",0],[1,"aria-labelledby",0]],[[null,"ionSelect"]],function(n,l,e){var t=!0;if("ionSelect"===l){t=!1!==n.component.change_icon("home")&&t}return t},En.b,En.a)),o["ɵdid"](5,245760,null,0,Sn.a,[qn.a,U.a,F.a,H.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,o.ChangeDetectorRef,J.l,Z.a,[2,Q.a],K.a,o.ErrorHandler],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},{ionSelect:"ionSelect"}),(n()(),o["ɵted"](-1,0,["\n  "])),(n()(),o["ɵeld"](7,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabTitle","Questions"]],[[1,"id",0],[1,"aria-labelledby",0]],[[null,"ionSelect"]],function(n,l,e){var t=!0;if("ionSelect"===l){t=!1!==n.component.change_icon("quest")&&t}return t},En.b,En.a)),o["ɵdid"](8,245760,null,0,Sn.a,[qn.a,U.a,F.a,H.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,o.ChangeDetectorRef,J.l,Z.a,[2,Q.a],K.a,o.ErrorHandler],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},{ionSelect:"ionSelect"}),(n()(),o["ɵted"](-1,0,["\n  "])),(n()(),o["ɵeld"](10,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabTitle","Discussion"]],[[1,"id",0],[1,"aria-labelledby",0]],[[null,"ionSelect"]],function(n,l,e){var t=!0;if("ionSelect"===l){t=!1!==n.component.change_icon("disc")&&t}return t},En.b,En.a)),o["ɵdid"](11,245760,null,0,Sn.a,[qn.a,U.a,F.a,H.a,o.ElementRef,o.NgZone,o.Renderer,o.ComponentFactoryResolver,o.ChangeDetectorRef,J.l,Z.a,[2,Q.a],K.a,o.ErrorHandler],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},{ionSelect:"ionSelect"}),(n()(),o["ɵted"](-1,0,["\n"])),(n()(),o["ɵted"](-1,null,["\n"])),(n()(),o["ɵeld"](14,0,null,null,9,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0,u=n.component;if("submit"===l){t=!1!==o["ɵnov"](n,16).onSubmit(e)&&t}if("reset"===l){t=!1!==o["ɵnov"](n,16).onReset()&&t}if("ngSubmit"===l){t=!1!==u.log_out()&&t}return t},null,null)),o["ɵdid"](15,16384,null,0,wn.n,[],null,null),o["ɵdid"](16,4210688,null,0,wn.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),o["ɵprd"](2048,null,wn.b,null,[wn.j]),o["ɵdid"](18,16384,null,0,wn.i,[wn.b],null,null),(n()(),o["ɵted"](-1,null,["\n  "])),(n()(),o["ɵeld"](20,0,null,null,2,"button",[["ion-button",""],["type","submit"]],null,null,null,fn.b,fn.a)),o["ɵdid"](21,1097728,null,0,hn.a,[[8,""],F.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,0,["Log out"])),(n()(),o["ɵted"](-1,null,["\n"])),(n()(),o["ɵted"](-1,null,["\n\n"]))],function(n,l){var e=l.component;n(l,2,0,"1");n(l,5,0,e.tab1Root,"Home",o["ɵinlineInterpolate"](1,"",e.home_icon,""));n(l,8,0,e.tab2Root,"Questions",o["ɵinlineInterpolate"](1,"",e.quest_icon,""));n(l,11,0,e.tab3Root,"Discussion",o["ɵinlineInterpolate"](1,"",e.disc_icon,""))},function(n,l){n(l,4,0,o["ɵnov"](l,5)._tabId,o["ɵnov"](l,5)._btnId);n(l,7,0,o["ɵnov"](l,8)._tabId,o["ɵnov"](l,8)._btnId);n(l,10,0,o["ɵnov"](l,11)._tabId,o["ɵnov"](l,11)._btnId);n(l,14,0,o["ɵnov"](l,18).ngClassUntouched,o["ɵnov"](l,18).ngClassTouched,o["ɵnov"](l,18).ngClassPristine,o["ɵnov"](l,18).ngClassDirty,o["ɵnov"](l,18).ngClassValid,o["ɵnov"](l,18).ngClassInvalid,o["ɵnov"](l,18).ngClassPending)})}var Mn=o["ɵccf"]("ng-component",f.a,function(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,On,Nn)),o["ɵdid"](1,49152,null,0,f.a,[x.a,Pn.a,In.WrappedSocket],null,null)],null,null)},{},{},[]),Vn=e(131),An=e(110),Tn=e(112),Ln=e(130),Dn=e(40),jn=e(120),xn=e(150),Un=e(59),Fn=e(47),Hn=e(135),Jn=e(75),Zn=e(139),Qn=e(133),Kn=e(145),zn=e(123),$n=e(229),Wn=e(132),Gn=e(36),Bn=e(121),Xn=e(134),Yn=e(69),nl=o["ɵcmf"](R,[C.b],function(n){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[k.a,q.a,E.a,S.a,w.a,P.a,I.a,N.a,O.a,M.a,V.a,A.a,W,Cn,Mn]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](5120,o.LOCALE_ID,o["ɵm"],[[3,o.LOCALE_ID]]),o["ɵmpd"](4608,_n.k,_n.j,[o.LOCALE_ID,[2,_n.s]]),o["ɵmpd"](5120,o.APP_ID,o["ɵf"],[]),o["ɵmpd"](5120,o.IterableDiffers,o["ɵk"],[]),o["ɵmpd"](5120,o.KeyValueDiffers,o["ɵl"],[]),o["ɵmpd"](4608,t.c,t.q,[_n.c]),o["ɵmpd"](6144,o.Sanitizer,null,[t.c]),o["ɵmpd"](4608,t.f,Vn.a,[]),o["ɵmpd"](5120,t.d,function(n,l,e,o,u){return[new t.k(n,l),new t.o(e),new t.n(o,u)]},[_n.c,o.NgZone,_n.c,_n.c,t.f]),o["ɵmpd"](4608,t.e,t.e,[t.d,o.NgZone]),o["ɵmpd"](135680,t.m,t.m,[_n.c]),o["ɵmpd"](4608,t.l,t.l,[t.e,t.m]),o["ɵmpd"](6144,o.RendererFactory2,null,[t.l]),o["ɵmpd"](6144,t.p,null,[t.m]),o["ɵmpd"](4608,o.Testability,o.Testability,[o.NgZone]),o["ɵmpd"](4608,t.h,t.h,[_n.c]),o["ɵmpd"](4608,t.i,t.i,[_n.c]),o["ɵmpd"](4608,d.c,d.c,[]),o["ɵmpd"](4608,d.g,d.b,[]),o["ɵmpd"](5120,d.i,d.j,[]),o["ɵmpd"](4608,d.h,d.h,[d.c,d.g,d.i]),o["ɵmpd"](4608,d.f,d.a,[]),o["ɵmpd"](5120,d.d,d.k,[d.h,d.f]),o["ɵmpd"](4608,wn.o,wn.o,[]),o["ɵmpd"](4608,wn.d,wn.d,[]),o["ɵmpd"](4608,An.a,An.a,[U.a,F.a]),o["ɵmpd"](4608,Tn.a,Tn.a,[U.a,F.a]),o["ɵmpd"](4608,Ln.a,Ln.a,[]),o["ɵmpd"](4608,X.a,X.a,[]),o["ɵmpd"](4608,Dn.a,Dn.a,[H.a]),o["ɵmpd"](4608,rn.a,rn.a,[F.a,H.a,o.NgZone,K.a]),o["ɵmpd"](4608,jn.a,jn.a,[U.a,F.a]),o["ɵmpd"](5120,_n.f,xn.c,[_n.q,[2,_n.a],F.a]),o["ɵmpd"](4608,_n.e,_n.e,[_n.f]),o["ɵmpd"](5120,Un.b,Un.d,[U.a,Un.a]),o["ɵmpd"](5120,Q.a,Q.b,[U.a,Un.b,_n.e,Fn.b,o.ComponentFactoryResolver]),o["ɵmpd"](4608,Hn.a,Hn.a,[U.a,F.a,Q.a]),o["ɵmpd"](4608,Jn.a,Jn.a,[U.a,F.a]),o["ɵmpd"](4608,Zn.a,Zn.a,[U.a,F.a,Q.a]),o["ɵmpd"](4608,Qn.a,Qn.a,[F.a,H.a,K.a,U.a,J.l]),o["ɵmpd"](4608,Kn.a,Kn.a,[U.a,F.a]),o["ɵmpd"](4608,Z.a,Z.a,[H.a,F.a]),o["ɵmpd"](5120,Pn.a,Pn.c,[Pn.b]),o["ɵmpd"](5120,In.WrappedSocket,zn.SocketFactory,[zn.SOCKET_CONFIG_TOKEN]),o["ɵmpd"](4608,u.a,u.a,[]),o["ɵmpd"](4608,a.a,a.a,[]),o["ɵmpd"](4608,v.a,v.a,[]),o["ɵmpd"](4608,_.a,_.a,[d.d,Pn.a,v.a]),o["ɵmpd"](4608,b.a,b.a,[d.d,Pn.a,v.a,In.WrappedSocket]),o["ɵmpd"](4608,y.a,y.a,[d.d,Tn.a,v.a]),o["ɵmpd"](4608,c.a,c.a,[]),o["ɵmpd"](512,_n.b,_n.b,[]),o["ɵmpd"](512,o.ErrorHandler,$n.a,[]),o["ɵmpd"](256,F.b,{},[]),o["ɵmpd"](1024,Wn.a,Wn.b,[]),o["ɵmpd"](1024,H.a,H.b,[t.b,Wn.a,o.NgZone]),o["ɵmpd"](1024,F.a,F.c,[F.b,H.a]),o["ɵmpd"](512,K.a,K.a,[H.a]),o["ɵmpd"](512,Gn.a,Gn.a,[]),o["ɵmpd"](512,U.a,U.a,[F.a,H.a,[2,Gn.a]]),o["ɵmpd"](512,J.l,J.l,[U.a]),o["ɵmpd"](256,Un.a,{links:[{loadChildren:"../pages/connection/connection.module.ngfactory#ConnectionPageModuleNgFactory",name:"ConnectionPage",segment:"connection",priority:"low",defaultHistory:[]},{loadChildren:"../pages/discussion/discussion.module.ngfactory#DiscussionPageModuleNgFactory",name:"DiscussionPage",segment:"discussion",priority:"low",defaultHistory:[]},{loadChildren:"../pages/questions/questions.module.ngfactory#QuestionsPageModuleNgFactory",name:"QuestionsPage",segment:"questions",priority:"low",defaultHistory:[]}]},[]),o["ɵmpd"](512,o.Compiler,o.Compiler,[]),o["ɵmpd"](512,Bn.a,Bn.a,[o.Compiler]),o["ɵmpd"](1024,Fn.b,Fn.c,[Bn.a,o.Injector]),o["ɵmpd"](1024,o.APP_INITIALIZER,function(n,l,e,o,u,a,i,s,d,r,c,p,m){return[t.s(n),Xn.a(l),Ln.b(e,o),Qn.b(u,a,i,s,d),Fn.d(r,c,p,m)]},[[2,o.NgProbeToken],F.a,H.a,K.a,F.a,H.a,K.a,U.a,J.l,F.a,Un.a,Fn.b,o.NgZone]),o["ɵmpd"](512,o.ApplicationInitStatus,o.ApplicationInitStatus,[[2,o.APP_INITIALIZER]]),o["ɵmpd"](131584,o.ApplicationRef,o.ApplicationRef,[o.NgZone,o["ɵConsole"],o.Injector,o.ErrorHandler,o.ComponentFactoryResolver,o.ApplicationInitStatus]),o["ɵmpd"](512,o.ApplicationModule,o.ApplicationModule,[o.ApplicationRef]),o["ɵmpd"](512,t.a,t.a,[[3,t.a]]),o["ɵmpd"](512,d.e,d.e,[]),o["ɵmpd"](512,wn.m,wn.m,[]),o["ɵmpd"](512,wn.e,wn.e,[]),o["ɵmpd"](512,wn.l,wn.l,[]),o["ɵmpd"](512,xn.a,xn.a,[]),o["ɵmpd"](512,r.a,r.a,[]),o["ɵmpd"](512,zn.SocketIoModule,zn.SocketIoModule,[]),o["ɵmpd"](512,xn.b,xn.b,[]),o["ɵmpd"](512,h.a,h.a,[]),o["ɵmpd"](512,m.a,m.a,[]),o["ɵmpd"](512,g.a,g.a,[]),o["ɵmpd"](512,R,R,[]),o["ɵmpd"](256,Fn.a,Yn.a,[]),o["ɵmpd"](256,C.a,s,[]),o["ɵmpd"](256,_n.a,"/",[]),o["ɵmpd"](256,Pn.b,null,[]),o["ɵmpd"](256,zn.SOCKET_CONFIG_TOKEN,{url:"http://localhost:9000/discussions",options:{}},[])])});Object(o.enableProdMode)(),Object(t.j)().bootstrapModuleFactory(nl)},27:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3);var t=function(){function n(){this.MAIN_URL="https://adeq.rezoleo.fr",console.log("Hello GlobalVarsProvider Provider"),this.TOKEN=""}return n.prototype.set_token=function(n){this.TOKEN=n},n.prototype.get_token=function(){return this.TOKEN},n.prototype.set_socket_name=function(n){this.socket_name=n},n.prototype.get_socket_name=function(){return this.socket_name},n.prototype.set_role=function(n){this.role=n},n.prototype.get_role=function(){return this.role},n.prototype.init_glob=function(n){this.set_token(n.token),this.set_socket_name(n.room_name),this.set_role(n.role)},n.prototype.set_user_info=function(n){this.email=n.email,this.firstName=n.firstName,this.lastName=n.lastName},n}()},293:function(n,l){},69:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25);var t=function(){function n(n,l,e,t){this.navCtrl=n,this.navParams=l,this.dProv=e,this.globVars=t,this.dProv.init_discussion(this),this.dProv.listen_messages(this),this.role=t.role}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad DiscussionPage")},n.prototype.display_name=function(n){this.name=n},n.prototype.add_last_messages=function(n){console.log("Update-online: messages to add"),console.log(n);var l=this.messages;l=l.concat(n),this.display_messages(l),this.dProv.store_discussion(this.obj_discussion())},n.prototype.display_messages=function(n){void 0===n&&(n=null),n=n||this.messages||null,console.log("DM: messages to sort"),console.log(n),null!=n&&(n.sort(function(n,l){return n.time>l.time?1:-1}),console.log(n),this.messages=n)},n.prototype.send_message=function(){console.log("Message envoyé: "+this.curr_message);var n={content:this.curr_message,time:Date.now(),type:this.role};this.dProv.send_msg(n),this.curr_message=""},n.prototype.obj_discussion=function(){return this.make_obj_discussion(this.name,this.messages)},n.prototype.make_obj_discussion=function(n,l){return{name:n,messages:l}},n.prototype.get_type=function(n){return n==this.role?"host":"guest"},n}()},84:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(3),e(25),e(27);var t=function(){function n(n,l,e){this.http=n,this.alert_ctrl=l,this.globVars=e,this.main_url=this.globVars.MAIN_URL,this.eval_url=this.main_url+"/evals",this.user_details_url=this.main_url+"/users/details",this.user_pswd_url=this.main_url+"/users/password",console.log("Hello HomeManagerProvider Provider")}return n.prototype.update_details=function(n){var l={firstName:n.first_name,lastName:n.surname},e=this.globVars.get_token();return console.log("Sending details update"),this.http.put(this.user_details_url,{to_update:l},{params:{access_token:e}}).map(function(n){return console.log(n),n.json()})},n.prototype.update_password=function(n){var l=this.globVars.get_token();return console.log("Sending details update"),this.http.put(this.user_pswd_url,{password:n.curr_pswd,new_password:n.new_pswd},{params:{access_token:l}}).map(function(n){return console.log(n),n.json()})},n.prototype.send_eval=function(n){var l=this.globVars.get_token();return console.log("Sending eval"),this.http.put(this.eval_url,{eval:n},{params:{access_token:l}}).map(function(n){return console.log(n),n.json()})},n.prototype.create_eval_alert=function(n){var l=this,e=this.alert_ctrl.create();e.setTitle("Evalue ta relationa avec cette personne");for(var t=1;t<=5;t++)e.addInput({type:"radio",label:t.toString(),value:t.toString(),checked:!1});return e.addButton({text:"Cancel",handler:function(l){n.boo_eval_open=!1,console.log("Eval cancelled")}}),e.addButton({text:"OK",handler:function(e){n.eval_res=Number(e),console.log("Eval chosen "+n.eval_res),l.send_eval(e).subscribe(function(n){"ok"===n.status?console.log("Eval posted without error"):console.log("Eval not posted: "+n.message)}),n.boo_eval_open=!1}}),e},n.prototype.create_modify_alert=function(n){var l=this;return this.alert_ctrl.create({title:"Modification",message:"Change tes coordonnées",inputs:[{name:"surname",placeholder:n.surname.toString()},{name:"first_name",placeholder:n.first_name.toString()}],buttons:[{text:"Annuler",handler:function(l){console.log("Cancel clicked"),n.boo_modify_open=!1}},{text:"Valider",handler:function(e){console.log("Infos modifiées"),console.log(e),n.surname===e.surname&&n.first_name===e.first_name||(e.surname=e.surname||n.surname,e.first_name=e.first_name||n.first_name,l.update_details(e).subscribe(function(l){"ok"===l.status&&(n.surname=e.surname,n.first_name=e.first_name)})),n.boo_modify_open=!1}}]})},n.prototype.create_modify_mdp_alert=function(n){var l=this;return this.alert_ctrl.create({title:"Modification MdP",message:"Change ton mot de passe",inputs:[{name:"curr_pswd",placeholder:"Mot de passe actuel",type:"password"},{name:"new_pswd",placeholder:"Nouveau mot de passe",type:"password"},{name:"new_pswd_2",placeholder:"Nouveau mot de passe",type:"password"}],buttons:[{text:"Annuler",handler:function(l){console.log("Cancel clicked"),n.boo_modify_open=!1}},{text:"Valider",handler:function(e){e.new_pswd!==e.new_pswd_2?console.log("Mdps pas identiques"):console.log("Mdp modifié"),console.log("Infos modifiées"),console.log(e),l.update_password(e).subscribe(function(n){"ok"===n.status?console.log("Password modified with success"):console.log("Problem with updating password: "+n.message)}),n.boo_modify_open=!1,n.boo_modify_open=!1}}]})},n}()},85:function(n,l,e){"use strict";e.d(l,"a",function(){return o});e(3),e(45),e(27);var t=e(122),o=(e.n(t),function(){function n(n,l,e){this.http=n,this.storage=l,this.globVars=e,this.main_url=this.globVars.MAIN_URL,this.quest_url=this.main_url+"/questions",this.answers_url=this.main_url+"/answers",console.log("Hello QuestManagerProvider Provider")}return n.prototype.get_quests=function(){var n=this.globVars.get_token();return this.http.get(this.quest_url,{params:{access_token:n}}).map(function(n){return console.log(n),n.json()})},n.prototype.put_resp=function(n){var l={answers:n},e=this.globVars.get_token();return this.http.put(this.answers_url,l,{params:{access_token:e}}).map(function(n){return console.log(n),n.json()})},n.prototype.init_quest_screen=function(n){var l=this;this.storage.get("quests").then(function(e){null!=e?(console.log("I-Async: Quest stored non-null:"),console.log(e),e=JSON.parse(e),n.quests=e):(console.log("I-Async: Quest stored null"),n.quests=[]),l.update_quests(n)})},n.prototype.update_quests=function(n){var l=this;console.log("UQ: Update quest: "),n.quests.length<5?(console.log("UQ: Quests < 5. On lance la requete."),this.get_quests().subscribe(function(e){console.log("UQ-Async: Requete de quest faite:"),console.log(e),console.log("UQ-Async: On concatène toutes les questions"),n.quests=n.quests.concat(e),console.log(n.quests),n.update_curr_quest(),console.log("UQ-Async: On met a jour toutes les quest a storage"),l.storage.set("quests",JSON.stringify(n.quests))})):(n.update_curr_quest(),console.log("UQ: On met a jour toutes les quest a storage"),this.storage.set("quests",JSON.stringify(n.quests)))},n.prototype.constr_update_storage=function(n,l){var e=this;return function(t){console.log("US-ASync: Resultats de get resps:"),console.log(t),t=null!=t?JSON.parse(t):{},console.log(t),console.log("US-Async: On append le nouveau resultat et update storage"),t[n]=l,Object.keys(t).length>10?(console.log("US-Async: Resp trop long: on met en ligne"),e.put_resp(t).subscribe(function(n){var l=n;"ok"!=l.status?(console.log("US-Async2: on met a jour resps de storage"),e.storage.set("resps",JSON.stringify(l.responses)),alert("Error: could not send resp")):(console.log("US-Async2: Mise en ligne faite, on efface le resp de storage"),e.storage.set("resps","{}"))})):(console.log("US-Async: on met a jour resps de storage"),e.storage.set("resps",JSON.stringify(t)))}},n}())},86:function(n,l,e){"use strict";e.d(l,"a",function(){return u});e(3),e(45),e(27);var t=e(81),o=(e.n(t),e(122)),u=(e.n(o),function(){function n(n,l,e,t){this.http=n,this.storage=l,this.globVars=e,this.socket=t,this.main_url=this.globVars.MAIN_URL,this.disc_url=this.main_url+"/discussions",this.mess_url=this.main_url+"/discussions/message",console.log("Hello DiscManagerProvider Provider")}return n.prototype.listen_messages=function(n){console.log("LM: opening socket listener"),this.socket.connect(),this.socket.emit("room",this.globVars.get_socket_name()),this.socket.on("message",function(l){console.log("LM: message received"+l.toString()),n.add_last_messages(l)})},n.prototype.req_send_msg=function(n){var l=this.globVars.get_token();return this.http.post(this.mess_url,{messages:[n]},{params:{access_token:l}}).map(function(n){return console.log(n),n.json()})},n.prototype.req_get_discussion=function(n){void 0===n&&(n=null);var l=this.globVars.get_token();return this.http.get(this.disc_url,{params:{access_token:l}}).map(function(n){return console.log(n),n.json()})},n.prototype.disp_discussion=function(n,l){l.display_messages(n.messages),l.display_name(n.name)},n.prototype.get_disp_online_data=function(n){var l=this;this.req_get_discussion().subscribe(function(e){l.disp_discussion(e,n),l.store_discussion(e)})},n.prototype.send_msg=function(n){console.log("SM: on envoie le message"),this.req_send_msg(n).subscribe(function(n){"ok"!=n.status?(console.log("SM-Async: Erreur de requete"),alert("Error: could not send message")):console.log("SM-Async: Message envoyé")})},n.prototype.init_discussion=function(n){var l=this;console.log("ID: debut initialisation discussion"),this.storage.get("discussion").then(function(e){e=e||null,console.log("Async-ID: messages de storage"),console.log(e),null!==e&&l.disp_discussion(JSON.parse(e),n),l.get_disp_online_data(n)})},n.prototype.store_discussion=function(n){this.storage.set("discussion",JSON.stringify(n))},n.prototype.ionViewWillLeave=function(){this.socket.removeAllListeners(),this.socket.disconnect()},n}())}},[243]);